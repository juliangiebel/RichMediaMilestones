<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <link rel="stylesheet" href="../Bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="../style.css">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Meilenstein 1 | Home</title>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
<div class="container-liquid">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="../index.html">Meilenstein 1(+2.3)</a>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
      <li><a href="../index.html">Home</a></li>
      <li><a href="jqueryanim.html">JQuery Animation</a></li>
      <li><a href="cssanim.html">CSS3 Animation</a></li>
      <li class="active"><a href="Kunden.html">Kunden</a></li>
      <li><a href="KundenEintragen.html">Kunden+</a></li>
    </ul>
  </div>
</div>
</nav>
<div class="jumbotron main-container">
<table class ="table" id="out-table">
  <thead>
    <tr>
      <th>Vorname</th>
      <th>Name</th>
      <th>Geschlecht</th>
      <th>Mail</th>
      <th>Geburtsdatum</th>
      <th>Adresse</th>
    </tr>
  </thead>
  <tbody>

  </tbody>
</table>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</body>


<script>
  const TABLEID = "out-table";

  $("document").ready(function(){
    if(localStorage.getItem("index") === null) {
    }
    else{
      populateTable(TABLEID);
    }
  });

  function addEntry(entry, tableID){
    let row = "<tr id=\""+entry.id+"\"><td>"
    +entry.vorname+"</td><td>"
    +entry.name+"</td><td>"
    +entry.geschlecht+""
    +entry.mail+"</td><td>"
    +entry.geburtsdatum+"</td><td>"
    +entry.adresse+"</td><td>"
    +"<input type=\"button\" class= \"btn entry-rm\" value=\"Entfernen\" data-rm=\""+entry.id+"\"></td></tr>";

    $("#"+tableID).append(row);

    $("*[data-rm='"+entry.id+"']").click(rmEntry);
    }

  function rmEntry(){
    let entryID = $(this).data("rm");
    $("#"+entryID.remove);

  }

  function editEntry(){
    let
  }

  function populateTable(tableID) {
    let index = JSON.parse(localStorage.index);
    console.log(index.length);
    for(let i = 0; i<index.length; i = i+1){
      console.log(JSON.parse(localStorage.getItem(index[i])));
      addEntry(JSON.parse(localStorage.getItem(index[i]), tableID));
    }
  }
</script>
</html>
